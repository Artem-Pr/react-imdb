(this.webpackJsonpreact_imdb=this.webpackJsonpreact_imdb||[]).push([[0],{22:function(e,t,a){e.exports={Output:"Output_Output__2OFhf",pageNumber:"Output_pageNumber__13MoP",selectedPage:"Output_selectedPage__8OAOe"}},27:function(e,t,a){e.exports={header:"Header_header__1VCKf",logo:"Header_logo__3_SJs"}},41:function(e,t,a){e.exports=a.p+"static/media/logo.25bf045c.svg"},42:function(e,t,a){e.exports={Details:"Details_Details__1cgig"}},44:function(e,t,a){e.exports=a(73)},49:function(e,t,a){},50:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(20),c=a.n(o),l=(a(49),a(50),a(12)),s=a(13),i=a(16),u=a(14),p=a(17),g=a(22),m=a.n(g),h=a(7),f=function(e){var t,a=[];if(e.totalPages<11)for(var r=1;r<=e.totalPages;r++)a.push(r);else if((t=e.currentPage<4?1:e.currentPage-2)>1&&a.push(e.firstPageName),e.currentPage+2<e.totalPages){for(;t<=e.currentPage+2;t++)a.push(t);a.push(e.lastPageName)}else for(;t<=e.totalPages;t++)a.push(t);return n.a.createElement("section",{className:m.a.Output},null===e.movies?n.a.createElement("div",null,"searching results"):n.a.createElement("div",null,n.a.createElement("div",null,"Total count: ",e.totalMoviesCount),n.a.createElement("div",null,a.map((function(t){return n.a.createElement("span",{key:t,className:(e.currentPage===t&&m.a.selectedPage)+" "+m.a.pageNumber,onClick:function(){t===e.firstPageName&&(t=1),t===e.lastPageName&&(t=e.totalPages),e.onPageChanged(t)}},t)}))),n.a.createElement("table",null,n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Number"),n.a.createElement("th",null,"Name"),n.a.createElement("th",null,"Release"))),n.a.createElement("tbody",null,e.movies.map((function(t,a){return n.a.createElement("tr",{key:t.id},n.a.createElement("td",null,e.pageSize*(e.currentPage-1)+a+1),n.a.createElement("td",null,n.a.createElement(h.b,{to:"/details/".concat(t.id)},t.name||t.title)),n.a.createElement("td",null,t.release_date||t.first_air_date))}))))))},d=a(10),v=a(15),E=a(40),O="619e6b54477dcd363899f6f2d3dc1ed1",P=E.create({baseURL:"https://api.themoviedb.org/3"}),b=function(e,t,a){return P.get("/search/movie",{params:{api_key:O,language:e,query:t,page:a,include_adult:!1}})},y=function(e,t){return P.get("/movie/".concat(t),{params:{api_key:O,language:e}})};function _(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function j(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_(a,!0).forEach((function(t){Object(v.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var T={movies:null,totalMoviesCount:null,totalPages:null,currentPage:1,pageSize:20,firstPageName:"First page",lastPageName:"Last page"},S=function(e){return{type:"SET_MOVIES",movies:e}},w=function(e,t,a){return function(r){b(e,t,a).then((function(e){console.log(e),r(S(e.data.results)),r({type:"SET_TOTAL_MOVIES_COUNT",totalMoviesCount:e.data.total_results}),r({type:"SET_TOTAL_PAGES",totalPages:e.data.total_pages}),r({type:"SET_CURRENT_PAGE",currentPage:e.data.page})}))}},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:T,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_MOVIES":return j({},e,{movies:t.movies});case"SET_TOTAL_MOVIES_COUNT":return j({},e,{totalMoviesCount:t.totalMoviesCount});case"SET_TOTAL_PAGES":return j({},e,{totalPages:t.totalPages});case"SET_CURRENT_PAGE":return j({},e,{currentPage:t.currentPage});default:return e}},D=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).onPageChanged=function(e){a.props.getMovies(a.props.lang,a.props.searchText,e)},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return n.a.createElement(f,{movies:this.props.movies,totalMoviesCount:this.props.totalMoviesCount,totalPages:this.props.totalPages,currentPage:this.props.currentPage,pageSize:this.props.pageSize,firstPageName:this.props.firstPageName,lastPageName:this.props.lastPageName,onPageChanged:this.onPageChanged})}}]),t}(n.a.Component),N=Object(d.b)((function(e){return{movies:e.outputPage.movies,totalMoviesCount:e.outputPage.totalMoviesCount,totalPages:e.outputPage.totalPages,currentPage:e.outputPage.currentPage,lang:e.searchHeader.lang,searchText:e.searchHeader.searchText,pageSize:e.outputPage.pageSize,firstPageName:e.outputPage.firstPageName,lastPageName:e.outputPage.lastPageName}}),{getMovies:w})(D);function k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function x(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(a,!0).forEach((function(t){Object(v.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var M={searchText:"batman",lang:"en-US",media_type:[]},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_SEARCH_TEXT":return x({},e,{searchText:t.searchText});default:return e}},A=a(41),R=a.n(A),H=a(27),I=a.n(H);var L=function(e){return n.a.createElement("header",{className:I.a.header},n.a.createElement("img",{src:R.a,className:I.a.logo,alt:"logo"}),n.a.createElement("input",{type:"text",className:"form-control",value:e.searchText,onChange:function(t){return e.onSearchChanged(t)},placeholder:"Enter the name..."}),n.a.createElement(h.b,{to:"/"},n.a.createElement("button",{onClick:function(){return e.onSearchClick()}},"Search")))},V=function(e){function t(){var e,a;Object(l.a)(this,t);for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).onSearchChanged=function(e){a.props.updateSearchText(e.target.value)},a.onSearchClick=function(){a.props.getMovies(a.props.lang,a.props.searchText,1)},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return n.a.createElement(L,{onSearchChanged:this.onSearchChanged,onSearchClick:this.onSearchClick,searchText:this.props.searchText})}}]),t}(n.a.Component),z=Object(d.b)((function(e){return{searchText:e.searchHeader.searchText,lang:e.searchHeader.lang}}),{updateSearchText:function(e){return{type:"UPDATE_SEARCH_TEXT",searchText:e}},setMovies:S,getMovies:w})(V),G=a(42),B=a.n(G),J=function(e){return n.a.createElement("section",null,n.a.createElement(h.b,{to:"/"},n.a.createElement("div",null,"Go back")),n.a.createElement("h1",{className:B.a.Details},e.title),n.a.createElement("div",null,"Genres: ",e.genres?e.genres.map((function(e,t){return n.a.createElement("span",{key:t},e.name," ")})):""),n.a.createElement("div",null,"Vote average: ",n.a.createElement("span",null,e.vote_average)),n.a.createElement("div",null,"Vote count: ",n.a.createElement("span",null,e.vote_count)),n.a.createElement("div",null,"Release date: ",n.a.createElement("span",null,e.release_date)),n.a.createElement("img",{src:e.posterUrl,alt:e.title}),n.a.createElement("div",null,"Runtime: ",n.a.createElement("span",null,e.vote_count," min")),n.a.createElement("div",null,"Homepage: ",n.a.createElement("a",{href:e.homepage},e.homepage)),n.a.createElement("div",null,"Budget: ",n.a.createElement("span",null,e.budget," $")),n.a.createElement("h3",null,"Overview"),n.a.createElement("p",null,e.overview))};function F(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function W(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?F(a,!0).forEach((function(t){Object(v.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):F(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var X={movieDetails:null,posterBaseUrl:"https://image.tmdb.org/t/p/w300",posterUrl:""},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_MOVIE_DETAILS":return W({},e,{movieDetails:t.movieDetails});case"SET_POSTER_URL":return W({},e,{posterUrl:e.posterBaseUrl+t.posterUrl});default:return e}},q=a(11),K=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.getDetails(this.props.lang,this.props.match.params.movieId)}},{key:"render",value:function(){return n.a.createElement(J,Object.assign({},this.props.movieDetails,{posterUrl:this.props.posterUrl}))}}]),t}(n.a.Component),Q=Object(q.e)(K),Y=Object(d.b)((function(e){return{movieDetails:e.detailsPage.movieDetails,posterUrl:e.detailsPage.posterUrl,lang:e.searchHeader.lang}}),{getDetails:function(e,t){return function(a){y(e,t).then((function(e){a({type:"SET_MOVIE_DETAILS",movieDetails:e.data}),a({type:"SET_POSTER_URL",posterUrl:e.data.poster_path}),console.log(e.data)}))}}})(Q);var Z=function(){return n.a.createElement("div",{className:"App"},n.a.createElement(z,null),n.a.createElement("div",null,n.a.createElement(q.a,{exact:!0,path:"/",render:function(){return n.a.createElement(N,null)}}),n.a.createElement(q.a,{path:"/details/:movieId?",render:function(){return n.a.createElement(Y,null)}})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ee=a(18),te=a(43),ae=Object(ee.c)({searchHeader:U,outputPage:C,detailsPage:$}),re=Object(ee.d)(ae,Object(ee.a)(te.a));window.store=re;var ne=re;c.a.render(n.a.createElement(h.a,null,n.a.createElement(d.a,{store:ne},n.a.createElement(Z,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[44,1,2]]]);
//# sourceMappingURL=main.ec7744ad.chunk.js.map